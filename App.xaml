<Application x:Class="PanelNikeStore.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:PanelNikeStore"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <local:StockColorConverter x:Key="StockColorConverter"/>

        <!-- Couleurs de l'application - mode clair par défaut -->
        <SolidColorBrush x:Key="WindowBackground" Color="#F8F9FA"/>
        <SolidColorBrush x:Key="ContentBackground" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="ControlBackground" Color="#F5F5F5"/>

        <!-- Sidebar -->
        <SolidColorBrush x:Key="SidebarBackground" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="SidebarText" Color="#495057"/>
        <SolidColorBrush x:Key="SidebarSubMenuText" Color="#6C757D"/>

        <!-- Texte -->
        <SolidColorBrush x:Key="PrimaryText" Color="#212529"/>
        <SolidColorBrush x:Key="SecondaryText" Color="#6C757D"/>
        <SolidColorBrush x:Key="DisabledText" Color="#ADB5BD"/>

        <!-- Bordures -->
        <SolidColorBrush x:Key="BorderBrush" Color="#E9ECEF"/>

        <!-- Menu hover -->
        <SolidColorBrush x:Key="MenuHover" Color="#F1F3F5"/>
        <SolidColorBrush x:Key="MenuPressed" Color="#E9ECEF"/>

        <!-- Accent et statuts -->
        <SolidColorBrush x:Key="AccentBrush" Color="#007BFF"/>
        <SolidColorBrush x:Key="SuccessBrush" Color="#28A745"/>
        <SolidColorBrush x:Key="WarningBrush" Color="#FFC107"/>
        <SolidColorBrush x:Key="ErrorBrush" Color="#DC3545"/>
        <SolidColorBrush x:Key="InfoBrush" Color="#17A2B8"/>

        <Style TargetType="ComboBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <ToggleButton 
                            IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            Padding="{TemplateBinding Padding}">
                                <ToggleButton.Template>
                                    <ControlTemplate TargetType="ToggleButton">
                                        <Border 
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="3">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="20"/>
                                                </Grid.ColumnDefinitions>
                                                <ContentPresenter 
                                                Grid.Column="0"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Center"
                                                Margin="{TemplateBinding Padding}"/>
                                                <Path 
                                                Grid.Column="1"
                                                Data="M0,0 L5,5 L10,0 Z"
                                                Fill="{DynamicResource SecondaryText}"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Margin="0,0,5,0"/>
                                            </Grid>
                                        </Border>
                                    </ControlTemplate>
                                </ToggleButton.Template>
                            </ToggleButton>
                            <Popup 
                            IsOpen="{TemplateBinding IsDropDownOpen}"
                            Placement="Bottom"
                            PopupAnimation="Slide"
                            AllowsTransparency="True">
                                <Border 
                                Background="{DynamicResource ContentBackground}"
                                BorderBrush="{DynamicResource BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="3"
                                Padding="1">
                                    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="200">
                                        <StackPanel 
                                        IsItemsHost="True"
                                        KeyboardNavigation.DirectionalNavigation="Contained"/>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Application.Resources>
</Application>